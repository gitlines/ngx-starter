<ng-container *ngIf="(state$ | async) as state">
  <a mat-button
     class="select-item mat-button-fill"
     fxLayout="row" fxLayoutAlign="start center"
     tabIndex="0"
     [class.select-item-active]="state.isActive"
     [class.select-item-inactive]="!state.isActive"
     [color]="state.isActive ? 'primary' : ''"
     (click)="itemClick($event)"
  >

    <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="16px" fxFlex
         class="noselect">
      <ng-content></ng-content>

      <ng-container *ngIf="(hasChildren$ | async)">
        <span  fxFlex></span>
        <mat-icon>{{(isOpen$ | async) ? 'keyboard_arrow_up' : 'keyboard_arrow_down'}}</mat-icon>
      </ng-container>
    </div>

  </a>

  <!-- Nested Items projection -->
  <div fxLayout="column"
       class="nested-items-container"
       [@openClose]="(isOpen$ | async) ? 'open' : 'closed'">
    <ng-content  select="elder-select-list-item"></ng-content>
  </div>
</ng-container>


