
<ng-container *ngIf="aggregate$ | async as aggregate">

  <button mat-icon-button
          fxLayout="row" fxLayoutAlign="center center"
          [elderOverlayTrigger]="overlay">

    <mat-icon *ngIf="aggregate.inTransfer == 0" [color]="inactiveColor">cloud_upload</mat-icon>

    <mat-progress-spinner
      *ngIf="aggregate.inTransfer > 0"
      [matBadge]="aggregate.inTransfer"
      matBadgePosition="above after"
      matBadgeSize="small"
      [matBadgeColor]="activeColor"
      [color]="activeColor"
      [strokeWidth]="3"
      [diameter]="38"
      [value]="aggregate.percentDone"
      mode="determinate"
    >
    </mat-progress-spinner>

  </button>
</ng-container>

<elder-overlay #overlay="elderOverlay" originX="center" overlayX="center">
  <elder-data-transfer-overview class="panel">
  </elder-data-transfer-overview>
</elder-overlay>

