
<ng-container *ngIf="(state$ | async) as state">
  <div fxLayout="column"
       class="nav-group"
       [class.nav-group-active]="state.isOpen"
  >
    <a mat-button
       class="nav-group-button mat-button-fill"
       fxLayout="row" fxLayoutAlign="start center"
       tabIndex="0"
       [class.nav-group-button-active]="state.isOpen"
       [class.nav-group-button-inactive]="!state.isOpen"
       [color]="state.isOpen ? 'primary' : ''"
       (click)="itemClick($event)"
    >

      <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="16px" fxFlex
           class="noselect">
        <ng-content></ng-content>
        <span fxFlex></span>
        <mat-icon>{{state.isOpen ? 'keyboard_arrow_up' : 'keyboard_arrow_down'}}</mat-icon>
      </div>

    </a>

    <!-- Nested Items projection -->
    <div fxLayout="column"
         class="nav-group-items-container"
         [@openClose]="state.isOpen ? 'open' : 'closed'">
      <ng-content select="ebs-nav-link"></ng-content>
    </div>

  </div>
</ng-container>
